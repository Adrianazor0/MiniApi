/** @preserve Copyright (c) KNOWLEDGECODE - MIT License */
const e=/\\\[/g,t=/\\\]/g,n=/\uE000/g,r=/\uE001/g,s=/\[(?:[^[\]]|\[[^[\]]*])*]|([A-Za-z])\1*|\.{3}|./g,o=o=>{const a=o.replace(e,"").replace(t,"").match(s)||[];return[o,...a.map(e=>e.replace(n,"[").replace(r,"]"))]},a=new Map,i=e=>a.get(e)||(()=>{const t=new Intl.DateTimeFormat("en-US",{hour12:!1,weekday:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",fractionalSecondDigits:3,timeZone:e});return e&&a.set(e,t),t})(),c=(e,t)=>{if("UTC"===t?.toUpperCase())return{weekday:e.getUTCDay(),year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds(),fractionalSecond:e.getUTCMilliseconds(),timezoneOffset:0};const n=i(t).formatToParts(e).reduce((e,{type:t,value:n})=>{switch(t){case"weekday":e[t]="SunMonTueWedThuFriSat".indexOf(n)/3;break;case"hour":e[t]=+n%24;break;case"year":case"month":case"day":case"minute":case"second":case"fractionalSecond":e[t]=+n}return e},{weekday:4,year:1970,month:1,day:1,hour:0,minute:0,second:0,fractionalSecond:0,timezoneOffset:0});return n.timezoneOffset=(e.getTime()-Date.UTC(n.year,n.month-(n.year<100?22801:1),n.day,n.hour,n.minute,n.second,n.fractionalSecond))/6e4,n},u=e=>Date.UTC(e.year,e.month-(e.year<100?22801:1),e.day,e.hour,e.minute,e.second,e.fractionalSecond+6e4*e.timezoneOffset);class l{constructor(e,t){this.parts=c(e,t),this.time=e.getTime()}getFullYear(){return this.parts.year}getMonth(){return this.parts.month-1}getDate(){return this.parts.day}getHours(){return this.parts.hour}getMinutes(){return this.parts.minute}getSeconds(){return this.parts.second}getMilliseconds(){return this.parts.fractionalSecond}getDay(){return this.parts.weekday}getTime(){return this.time}getTimezoneOffset(){return this.parts.timezoneOffset}}class h{}const d=(e,t)=>e.getFullYear()+("buddhist"===t?543:0);const m=new class extends h{YYYY(e,t){return`000${d(e,t.calendar)}`.slice(-4)}YY(e,t){return`0${d(e,t.calendar)}`.slice(-2)}Y(e,t){return`${d(e,t.calendar)}`}MMMM(e,t,n){return t.locale.getMonthList({style:"long",compiledObj:n})[e.getMonth()]||""}MMM(e,t,n){return t.locale.getMonthList({style:"short",compiledObj:n})[e.getMonth()]||""}MM(e){return`0${e.getMonth()+1}`.slice(-2)}M(e){return`${e.getMonth()+1}`}DD(e){return`0${e.getDate()}`.slice(-2)}D(e){return`${e.getDate()}`}HH(e,t){return`0${e.getHours()||("h24"===t.hour24?24:0)}`.slice(-2)}H(e,t){return`${e.getHours()||("h24"===t.hour24?24:0)}`}AA(e,t,n){return t.locale.getMeridiemList({style:"long",compiledObj:n,case:"uppercase"})[+(e.getHours()>11)]||""}A(e,t,n){return t.locale.getMeridiemList({style:"short",compiledObj:n,case:"uppercase"})[+(e.getHours()>11)]||""}aa(e,t,n){return t.locale.getMeridiemList({style:"long",compiledObj:n,case:"lowercase"})[+(e.getHours()>11)]||""}a(e,t,n){return t.locale.getMeridiemList({style:"short",compiledObj:n,case:"lowercase"})[+(e.getHours()>11)]||""}hh(e,t){return`0${e.getHours()%12||("h12"===t.hour12?12:0)}`.slice(-2)}h(e,t){return`${e.getHours()%12||("h12"===t.hour12?12:0)}`}mm(e){return`0${e.getMinutes()}`.slice(-2)}m(e){return`${e.getMinutes()}`}ss(e){return`0${e.getSeconds()}`.slice(-2)}s(e){return`${e.getSeconds()}`}SSS(e){return`00${e.getMilliseconds()}`.slice(-3)}SS(e){return`00${e.getMilliseconds()}`.slice(-3,-1)}S(e){return`00${e.getMilliseconds()}`.slice(-3,-2)}dddd(e,t,n){return t.locale.getDayOfWeekList({style:"long",compiledObj:n})[e.getDay()]||""}ddd(e,t,n){return t.locale.getDayOfWeekList({style:"short",compiledObj:n})[e.getDay()]||""}dd(e,t,n){return t.locale.getDayOfWeekList({style:"narrow",compiledObj:n})[e.getDay()]||""}Z(e){const t=e.getTimezoneOffset(),n=Math.abs(t);return`${t>0?"-":"+"}${("0"+(n/60|0)).slice(-2)}${("0"+n%60).slice(-2)}`}ZZ(e){const t=e.getTimezoneOffset(),n=Math.abs(t);return`${t>0?"-":"+"}${("0"+(n/60|0)).slice(-2)}:${("0"+n%60).slice(-2)}`}},g={MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"],MMM:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dddd:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ddd:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dd:["Su","Mo","Tu","We","Th","Fr","Sa"],A:["AM","PM"],AA:["A.M.","P.M."],a:["am","pm"],aa:["a.m.","p.m."]};var M=new class{getLocale(){return"en"}getMonthList(e){return"long"===e.style?g.MMMM:g.MMM}getDayOfWeekList(e){return"long"===e.style?g.dddd:"short"===e.style?g.ddd:g.dd}getMeridiemList(e){return"long"===e.style?"lowercase"===e.case?g.aa:g.AA:"lowercase"===e.case?g.a:g.A}},f={encode:e=>e,decode:e=>e};const y=e=>"object"==typeof e&&"zone_name"in e&&"gmt_offset"in e,D=e=>"UTC"===e,p=(e,t)=>{const n=i("UTC"),r=i(t.zone_name),s=t.gmt_offset;for(let t=0;t<2;t++){const o=n.format(e-86400*t*1e3);for(let n=0,a=s.length;n<a;n++)if(r.format(e-1e3*(s[n]+86400*t))===o)return s[n]}return NaN},T=/^\[(.*)\]$/;function L(e,t,n){const r=("string"==typeof t?o(t):t).slice(1),s=y(n?.timeZone)||D(n?.timeZone)?n.timeZone:void 0,a="string"==typeof s?s:s?.zone_name||"",i=a?new l(e,a):e,c={hour12:n?.hour12||"h12",hour24:n?.hour24||"h23",numeral:n?.numeral||f,calendar:n?.calendar||"gregory",timeZone:s,locale:n?.locale||M},u=[...n?.plugins||[],m],h=c.numeral.encode;return r.reduce((e,t)=>e+((e,t)=>{for(const n of u)if(n[e])return h(n[e](i,c,t));return T.test(e)?e.replace(T,"$1"):e})(t,r),"")}class C{}const S=(e,t,n)=>{const r=e.exec(t)?.[0]||"";return{value:+r,length:r.length,token:n}},w=(e,t,n)=>e.reduce((e,r,s)=>r.length>e.length&&!t.indexOf(r)?{value:s,length:r.length,token:n}:e,{value:-1,length:0,token:n});const b=new class extends C{YYYY(e){return S(/^\d{4}/,e,"Y")}Y(e){return S(/^\d{1,4}/,e,"Y")}MMMM(e,t,n){const r=t.locale.getMonthList({style:"long",compiledObj:n}),s=t.locale.getLocale(),o=t.ignoreCase?w(r.map(e=>e.toLocaleLowerCase(s)),e.toLocaleLowerCase(s),"M"):w(r,e,"M");return o.value++,o}MMM(e,t,n){const r=t.locale.getMonthList({style:"short",compiledObj:n}),s=t.locale.getLocale(),o=t.ignoreCase?w(r.map(e=>e.toLocaleLowerCase(s)),e.toLocaleLowerCase(s),"M"):w(r,e,"M");return o.value++,o}MM(e){return S(/^\d\d/,e,"M")}M(e){return S(/^\d\d?/,e,"M")}DD(e){return S(/^\d\d/,e,"D")}D(e){return S(/^\d\d?/,e,"D")}HH(e){return S(/^\d\d/,e,"H")}H(e){return S(/^\d\d?/,e,"H")}AA(e,t,n){const r=t.locale.getMeridiemList({style:"long",compiledObj:n,case:"uppercase"}),s=t.locale.getLocale();return t.ignoreCase?w(r.map(e=>e.toLocaleLowerCase(s)),e.toLocaleLowerCase(s),"A"):w(r,e,"A")}A(e,t,n){const r=t.locale.getMeridiemList({style:"short",compiledObj:n,case:"uppercase"}),s=t.locale.getLocale();return t.ignoreCase?w(r.map(e=>e.toLocaleLowerCase(s)),e.toLocaleLowerCase(s),"A"):w(r,e,"A")}aa(e,t,n){const r=t.locale.getMeridiemList({style:"long",compiledObj:n,case:"lowercase"}),s=t.locale.getLocale();return t.ignoreCase?w(r.map(e=>e.toLocaleLowerCase(s)),e.toLocaleLowerCase(s),"A"):w(r,e,"A")}a(e,t,n){const r=t.locale.getMeridiemList({style:"short",compiledObj:n,case:"lowercase"}),s=t.locale.getLocale();return t.ignoreCase?w(r.map(e=>e.toLocaleLowerCase(s)),e.toLocaleLowerCase(s),"A"):w(r,e,"A")}hh(e){return S(/^\d\d/,e,"h")}h(e){return S(/^\d\d?/,e,"h")}mm(e){return S(/^\d\d/,e,"m")}m(e){return S(/^\d\d?/,e,"m")}ss(e){return S(/^\d\d/,e,"s")}s(e){return S(/^\d\d?/,e,"s")}SSS(e){return S(/^\d{1,3}/,e,"S")}SS(e){const t=S(/^\d\d?/,e,"S");return t.value*=10,t}S(e){const t=S(/^\d/,e,"S");return t.value*=100,t}Z(e){const t=S(/^[+-][01]\d[0-5]\d/,e,"Z");return t.value=-60*(t.value/100|0)-t.value%100,t}ZZ(e){const t=/^([+-][01]\d):([0-5]\d)/.exec(e)||["","",""],n=+(t[1]+t[2]);return{value:-60*(n/100|0)-n%100,length:t[0].length,token:"Z"}}},O=/^\[(.*)\]$/;function $(e,t,n){const r=("string"==typeof t?o(t):t).slice(1),s={hour12:n?.hour12||"h12",hour24:n?.hour24||"h23",numeral:n?.numeral||f,calendar:n?.calendar||"gregory",ignoreCase:n?.ignoreCase||!1,timeZone:y(n?.timeZone)||D(n?.timeZone)?n.timeZone:void 0,locale:n?.locale||M},a={_index:0,_length:0,_match:0},i=[...n?.plugins||[],b],c=(e,t)=>{for(const n of i)if(n[e])return n[e](t,s,r)};e=s.numeral.decode(e);for(const t of r){const n=e.substring(a._index),r=c(t,n);if(r){if(!r.length)break;r.token&&(a[r.token]=r.value+0),a._index+=r.length,a._match++}else if(t===n[0]||" "===t)a._index++;else{if(!O.test(t)||n.indexOf(t.replace(O,"$1"))){if("..."===t){a._index=e.length;break}break}a._index+=t.length-2}}return a._length=e.length,a}function v(e,t){const n=void 0===e.Y?1970:e.Y-("buddhist"===t?.calendar?543:0),[r,s]="h11"===t?.hour12?[0,11]:[1,12],[o,a]="h24"===t?.hour24?[1,24]:[0,23],i=(e,t,n)=>void 0===e||e>=t&&e<=n;return e._index>0&&e._length>0&&e._index===e._length&&e._match>0&&i(n,1,9999)&&i(e.M,1,12)&&i(e.D,1,(c=n,u=e.M||1,new Date(c,u-(c<100?22800:0),0).getDate()))&&i(e.H,o,a)&&i(e.A,0,1)&&i(e.h,r,s)&&i(e.m,0,59)&&i(e.s,0,59)&&i(e.S,0,999)&&i(e.Z,-840,720);var c,u}function A(e,t,n){return v($(e,t,n),n)}function U(e,t,n){const r=$(e,t,n);if(!v(r,n))return new Date(NaN);if(r.Y=r.Y?r.Y-("buddhist"===n?.calendar?543:0):1970,r.M=(r.M||1)-(r.Y<100?22801:1),r.D||=1,r.H=(r.H||0)%24||12*(r.A||0)+(r.h||0)%12,r.m||=0,r.s||=0,r.S||=0,y(n?.timeZone)){const e=Date.UTC(r.Y,r.M,r.D,r.H,r.m,r.s,r.S),t=p(e,n.timeZone);return new Date(e-1e3*t)}return D(n?.timeZone)||"Z"in r?new Date(Date.UTC(r.Y,r.M,r.D,r.H,r.m+(r.Z||0),r.s,r.S)):new Date(r.Y,r.M,r.D,r.H,r.m,r.s,r.S)}function Y(e,t,n,r,s){return L(U(e,t,r),n,s)}function H(e,t,n){if(y(n)){const r=c(e,n.zone_name);r.month+=t,r.timezoneOffset=0;const s=new Date(u(r));s.getUTCDate()<r.day&&s.setUTCDate(0);const o=u({...r,year:s.getUTCFullYear(),month:s.getUTCMonth()+1,day:s.getUTCDate()}),a=p(o,n);return new Date(o-1e3*a)}const r=new Date(e.getTime());return D(n)?(r.setUTCMonth(r.getUTCMonth()+t),r.getUTCDate()<e.getUTCDate()?(r.setUTCDate(0),r):r):(r.setMonth(r.getMonth()+t),r.getDate()<e.getDate()?(r.setDate(0),r):r)}function Z(e,t,n){return H(e,12*t,n)}function _(e,t,n){if(y(n)){const r=c(e,n.zone_name);r.day+=t,r.timezoneOffset=0;const s=u(r),o=p(s,n);return new Date(s-1e3*o)}const r=new Date(e.getTime());return D(n)?(r.setUTCDate(r.getUTCDate()+t),r):(r.setDate(r.getDate()+t),r)}function k(e,t){return new Date(e.getTime()+36e5*t)}function j(e,t){return new Date(e.getTime()+6e4*t)}function x(e,t){return new Date(e.getTime()+1e3*t)}function z(e,t){return new Date(e.getTime()+t)}const F=/^\[(.*)\]$/,P=(e,t)=>(e.F=Math.trunc(1e6*t),e),W=(e,t)=>(e.f=Math.trunc(1e3*t),P(e,1e3*Math.abs(t)%1/1e3)),N=(e,t)=>(e.S=Math.trunc(t),W(e,Math.abs(t)%1)),J=(e,t)=>(e.s=Math.trunc(t/1e3),N(e,Math.abs(t)%1e3)),E=(e,t)=>(e.m=Math.trunc(t/6e4),J(e,Math.abs(t)%6e4)),I=(e,t)=>(e.H=Math.trunc(t/36e5),E(e,Math.abs(t)%36e5)),q=(e,t,n=f)=>{const r=o(t).slice(1);return r.reduce((t,r)=>t+(t=>{if(t[0]in e){const r=e[t[0]]??0;return n.encode(`${(e=>e<0||0===e&&1/e==-1/0?"-":"")(r)}${`${Math.abs(r)}`.padStart(t.length,"0")}`)}return F.test(t)?t.replace(F,"$1"):t})(r),"")};class B{constructor(e){this.time=e}toNanoseconds(){return{value:1e6*this.time,format:(e,t)=>q(P({},this.time),e,t),toParts:()=>({nanoseconds:Math.trunc(1e6*this.time)+0})}}toMicroseconds(){return{value:1e3*this.time,format:(e,t)=>q(W({},this.time),e,t),toParts:()=>({microseconds:Math.trunc(1e3*this.time)+0,nanoseconds:Math.trunc(1e6*this.time%1e3)+0})}}toMilliseconds(){return{value:this.time,format:(e,t)=>q(N({},this.time),e,t),toParts:()=>({milliseconds:Math.trunc(this.time)+0,microseconds:Math.trunc(1e3*this.time%1e3)+0,nanoseconds:Math.trunc(1e6*this.time%1e3)+0})}}toSeconds(){return{value:this.time/1e3,format:(e,t)=>q(J({},this.time),e,t),toParts:()=>({seconds:Math.trunc(this.time/1e3)+0,milliseconds:Math.trunc(this.time%1e3)+0,microseconds:Math.trunc(1e3*this.time%1e3)+0,nanoseconds:Math.trunc(1e6*this.time%1e3)+0})}}toMinutes(){return{value:this.time/6e4,format:(e,t)=>q(E({},this.time),e,t),toParts:()=>({minutes:Math.trunc(this.time/6e4)+0,seconds:Math.trunc(this.time%864e5%36e5%6e4/1e3)+0,milliseconds:Math.trunc(this.time%1e3)+0,microseconds:Math.trunc(1e3*this.time%1e3)+0,nanoseconds:Math.trunc(1e6*this.time%1e3)+0})}}toHours(){return{value:this.time/36e5,format:(e,t)=>q(I({},this.time),e,t),toParts:()=>({hours:Math.trunc(this.time/36e5)+0,minutes:Math.trunc(this.time%864e5%36e5/6e4)+0,seconds:Math.trunc(this.time%864e5%36e5%6e4/1e3)+0,milliseconds:Math.trunc(this.time%1e3)+0,microseconds:Math.trunc(1e3*this.time%1e3)+0,nanoseconds:Math.trunc(1e6*this.time%1e3)+0})}}toDays(){return{value:this.time/864e5,format:(e,t)=>{return q((n={},r=this.time,n.D=Math.trunc(r/864e5),I(n,Math.abs(r)%864e5)),e,t);var n,r},toParts:()=>({days:Math.trunc(this.time/864e5)+0,hours:Math.trunc(this.time%864e5/36e5)+0,minutes:Math.trunc(this.time%864e5%36e5/6e4)+0,seconds:Math.trunc(this.time%864e5%36e5%6e4/1e3)+0,milliseconds:Math.trunc(this.time%1e3)+0,microseconds:Math.trunc(1e3*this.time%1e3)+0,nanoseconds:Math.trunc(1e6*this.time%1e3)+0})}}}const G=(e,t)=>new B(t.getTime()-e.getTime()),K=e=>!((e%4||!(e%100))&&e%400),Q=(e,t)=>e.toDateString()===t.toDateString();export{B as Duration,_ as addDays,k as addHours,z as addMilliseconds,j as addMinutes,H as addMonths,x as addSeconds,Z as addYears,o as compile,L as format,K as isLeapYear,Q as isSameDay,A as isValid,U as parse,$ as preparse,G as subtract,Y as transform};
